<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="view_purchase_order_form_rfq_ext" model="ir.ui.view">
    <field name="name">purchase.order.form.rfq.ext</field>
    <field name="model">purchase.order</field>
    <field name="inherit_id" ref="purchase.purchase_order_form"/>
    <field name="arch" type="xml">


      <xpath expr="//field[@name='partner_id']" position="after">
        <field name="vendor_ids" widget="many2many_tags" options="{'no_create': True}" />
      </xpath>

      <!-- add vendor lines as a separate tab -->
      <xpath expr="//notebook" position="inside">
        <page string="Vendor Lines">
          <field name="vendor_line_ids">
            <list editable="bottom">
              <field name="partner_id"/>
              <field name="state"/>
              <field name="date_sent"/>
            </list>
          </field>
        </page>
      </xpath>

      <!-- add smart button for bids - add to existing button_box -->
      <xpath expr="//div[@name='button_box']" position="inside">
        <button name="action_view_rfq_bids" type="object"
          class="oe_stat_button" icon="fa-gavel">
          <field name="rfq_bid_count" widget="statinfo" string="Bids"/>
        </button>
      </xpath>

    </field>
  </record>
</odoo>